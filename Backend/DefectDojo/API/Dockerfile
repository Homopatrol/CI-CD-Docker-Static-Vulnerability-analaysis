FROM python:3.9.7-alpine3.13 

ARG UID=1001
ARG GID=1001
ARG USER=ddcicd

USER root

RUN adduser -D -u ${UID} ${USER} && \
    pip install requests 

COPY --chown=${UID}:0 ./DD_Pipeline.sh /
COPY --chown=${UID}:0 ./dojo_ci_cd.py /
COPY --chown=${UID}:0 ./defectdojo_api/ /defectdojo_api/

RUN chmod +x DD_Pipeline.sh

USER ${UID}
